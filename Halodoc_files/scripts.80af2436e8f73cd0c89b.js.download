!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e=e||self).gojek={})}(this,function(e){"use strict";function n(e,n,t,o){return new(t||(t=Promise))(function(r,i){function a(e){try{u(o.next(e))}catch(e){i(e)}}function s(e){try{u(o.throw(e))}catch(e){i(e)}}function u(e){e.done?r(e.value):new t(function(n){n(e.value)}).then(a,s)}u((o=o.apply(e,n||[])).next())})}function t(e,n){var t,o,r,i,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,o&&(r=2&i[0]?o.return:i[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,i[1])).done)return r;switch(o=0,r&&(i=[2&i[0],r.value]),i[0]){case 0:case 1:r=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,o=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(r=(r=a.trys).length>0&&r[r.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!r||i[1]>r[0]&&i[1]<r[3])){a.label=i[1];break}if(6===i[0]&&a.label<r[1]){a.label=r[1],r=i;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(i);break}r[2]&&a.ops.pop(),a.trys.pop();continue}i=n.call(e,a)}catch(e){i=[6,e],o=0}finally{t=r=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}var o,r,i,a;function s(){var e=window;return e.AnalyticsModule?o.ANDROID:e.webkit&&e.webkit.messageHandlers&&e.webkit.messageHandlers.AnalyticsModule?o.IOS:o.UNKNOWN}function u(e,n,t,r){var i=JSON.stringify({module:e,method:n,data:r,callback:t}),a=window;switch(s()){case o.ANDROID:a[e][n](i);break;case o.IOS:a.webkit.messageHandlers[e].postMessage(i);break;default:throw"Unexpected method "+n+" for module "+e}}!function(e){e.IOS="iOS",e.ANDROID="Android",e.UNKNOWN="unknown"}(o||(o={})),e.getAppInfo=function(){return n(this,void 0,Promise,function(){return t(this,function(e){return[2,new Promise(function(e,n){r={onComplete:function(t){if(t.success){var o={platform:s(),appVersion:t.data.appVersion,sdkVersion:"0.3.0"};e(o)}else n(t.errors[0])}},u("AppInfoModule","getAppVersion","window.gojek.setAppVersion('$DATA')")})]})})},e.getUserInfo=function(e){return n(this,void 0,Promise,function(){return t(this,function(n){return[2,new Promise(function(n,t){i={onComplete:function(e){e.success?n(function(e){var n={},t={};return"userName"in e.data&&(n.name=e.data.userName,t.user=n),"userEmail"in e.data&&(n.email=e.data.userEmail,t.user=n),"userPhone"in e.data&&(n.phone=e.data.userPhone,t.user=n),"userLocation"in e.data&&(t.location=e.data.userLocation),"device"in e.data&&(t.device=e.data.device),t}(e)):t(e.errors[0])}},u("UserInfoModule","getUserInfo","window.gojek.setUserInfo('$DATA')",{scopes:e})})]})})},e.onEventSent=function(e){a&&(a(JSON.parse(e)),a=void 0)},e.sendEvent=function(e,n,t){t&&(a=t),u("AnalyticsModule","track","window.gojek.onEventSent('$DATA')",{eventName:e,eventData:n})},e.setAppVersion=function(e){r&&r.onComplete(JSON.parse(e))},e.setUserInfo=function(e){i&&i.onComplete(JSON.parse(e))},Object.defineProperty(e,"__esModule",{value:!0})});